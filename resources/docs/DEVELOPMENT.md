# 開発進捗ドキュメント

## Phase 1: 基盤構築 ✓ (完了)

### 実装内容

#### 1.1 プロジェクト構造
- ✓ ディレクトリ構成設計（src/ui, src/db, src/core, src/utils）
- ✓ モジュール化による保守性向上
- ✓ 明確な責務分離

#### 1.2 UI フレームワーク（PyQt6）
- ✓ メインウィンドウ（集中力重視のダークモード）
- ✓ ダッシュボード（学習モード選択）
- ✓ クイズウィジェット（出題・回答・進捗表示）
- ✓ 管理パネル（問題管理・データインポート）

**デザイン特徴:**
- ダークモード（背景: #0F172A、テキスト: #F1F5F9）
- シンプルなナビゲーション
- 問題文・選択肢の見やすいレイアウト
- 進捗バー・タイマー表示
- 集中を妨げない落ち着いた配色

#### 1.3 データベース層（SQLAlchemy + SQLite）
- ✓ ORM モデル設計
  - Question（問題）
  - Choice（選択肢）
  - Category（分野/科目）
  - Year（試験年度）
  - UserAnswer（回答履歴）
  - Statistics（学習統計）
  - StudySession（学習セッション）
- ✓ データベースマネージャー（初期化・セッション管理）
- ✓ リレーションシップ定義

#### 1.4 設定・ユーティリティ
- ✓ アプリケーション設定（config.py）
- ✓ スタイルシート統一（styles.py）
- ✓ バージョン管理（requirements.txt に固定版指定）

#### 1.5 ドキュメント・サンプルデータ
- ✓ README（セットアップ・プロジェクト概要）
- ✓ サンプル問題データ（JSON、CSV 形式）
- ✓ プロジェクト構造ドキュメント

### 技術スタック（バージョン）

```
PyQt6==6.6.1              # GUI フレームワーク
SQLAlchemy==2.0.23        # ORM
pandas==2.1.4             # CSV処理
requests==2.31.0          # HTTP/API
beautifulsoup4==4.12.2    # スクレイピング
matplotlib==3.8.2         # グラフ表示
PyInstaller==6.4.0        # EXE化
```

**安定性対策:**
- 全ライブラリを固定バージョンで指定
- テスト済み互換バージョンの選定
- 将来の自動アップデートを防止

---

## Phase 2: 出題エンジン実装（次フェーズ）

### 予定実装

- [ ] 出題ロジック実装（random/year/category/review）
- [ ] 統計計算エンジン
- [ ] 回答判定・スコア算出
- [ ] 進捗管理・グラフ表示
- [ ] 結果画面実装

### ファイル予定
- `src/core/quiz_engine.py` - 出題エンジン
- `src/core/statistics.py` - 統計計算
- `src/ui/results_widget.py` - 結果表示画面

---

## Phase 3: データ取得自動化（フェーズ3）

- [ ] CSV/JSON インポート機能
- [ ] 外部 API 統合（試験サイトのAPI確認）
- [ ] Web スクレイピング
- [ ] データ同期・キャッシング

---

## Phase 4: UI/UX 改善（フェーズ4）

- [ ] テーマのカスタマイズ
- [ ] ショートカットキー
- [ ] 実行ファイル化（PyInstaller）
- [ ] インストーラー作成

---

## 既知の実装漏れ・TODO

### 即座に実装すべき機能

1. **出題エンジン**
   - [ ] `QuizWidget.initialize()` のデータベース問題取得
   - [ ] 出題ロジック（ランダム、年度別、分野別）
   - [ ] 回答の正誤判定

2. **データインポート**
   - [ ] `AdminPanel._import_csv()`
   - [ ] `AdminPanel._import_json()`
   - [ ] データベースへの登録

3. **統計機能**
   - [ ] 正答率計算
   - [ ] 学習時間記録
   - [ ] グラフ表示

### 今後の拡張予定

- デスクトップ通知機能
- クイズ履歴の検索・フィルタ
- 問題のタグ付け
- ブックマーク機能
- ユーザープロファイル

---

## 実行方法

### 開発環境での実行

```bash
# 仮想環境有効化
venv\Scripts\activate

# アプリケーション起動
python main.py
```

### テスト実行予定

```bash
pytest tests/
```

---

## GitHub リポジトリ

- **URL**: https://github.com/warasugitewara/it-pass-study-tool
- **アクセス**: プライベート（本人のみ）
- **初回コミット**: Phase 1 基盤構築完了

---

## 注記

**集中力重視デザイン:**
- ダークモードで目の疲れを軽減
- シンプルなレイアウトで集中を妨げない
- 学習に必要な情報に絞った表示
- 派手な装飾やアニメーションを排除

**安定性重視:**
- 全依存ライブラリをバージョン固定
- モジュール化による保守性向上
- 例外処理の充実
- ログ出力可能な構造
